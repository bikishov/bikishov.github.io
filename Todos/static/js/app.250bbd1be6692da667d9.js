webpackJsonp([1],{"/lWy":function(t,e){},"9+O6":function(t,e){},CAax:function(t,e){},Lp31:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)},staticRenderFns:[]},i=s("VU/8")({name:"App"},n,!1,null,null,null).exports,r=s("Xxa5"),o=s.n(r),c=s("exGp"),d=s.n(c),l=s("NYxO"),u=s("yviF"),p=(s("hZls"),s("881v"),Object(u.initializeApp)({apiKey:"AIzaSyB6sjLfaw-6NqBcDqDGZQMApWbGRJU2QTs",authDomain:"todoapp-89904.firebaseapp.com",databaseURL:"https://todoapp-89904.firebaseio.com",projectId:"todoapp-89904",storageBucket:"todoapp-89904.appspot.com",messagingSenderId:"973767574130",appId:"1:973767574130:web:7fbef7e5717b83a819f8eb",measurementId:"G-7E2NJXRH48"}).database().ref("items"));a.a.use(l.a);var m=new l.a.Store({state:{items:[],currentPage:1,loading:!1},getters:{isLoading:function(t){return t.loading},getTasks:function(t){return t.items},countTasks:function(t){return t.items.length},currentPage:function(t){return t.currentPage},getTask:function(t){return function(e){var s=t.items.findIndex(function(t){return t.id==e});return t.items[s]}},currentTasks:function(t){return t.items.slice(10*(t.currentPage-1),10*t.currentPage)}},mutations:{setItems:function(t,e){t.items=e,t.loading=!1},addTask:function(t,e){t.items.unshift(e)},deleteTask:function(t,e){var s=t.items.findIndex(function(t){return t.id==e});t.items.splice(s,1)},completeTask:function(t,e){var s=t.items.findIndex(function(t){return t.id==e});t.items[s].completed=!t.items[s].completed},setPage:function(t,e){t.currentPage=e},reverseTasks:function(t){t.items.reverse()},editTask:function(t,e){var s=t.items.findIndex(function(t){return t.id==e.id});t.items[s].title=e.title}},actions:{addTask:function(t,e){var s=t.commit,a=p.push({title:e.title,completed:!1,date:Date.now().toString()});e.id=a.key,s("addTask",e)},deleteTask:function(t,e){var s=t.commit;p.child(e).remove(),s("deleteTask",e)},completeTask:function(t,e){var s=t.commit;console.log(e),p.child(e.id+"/completed").set(!e.completed),s("completeTask",e.id)},editTask:function(t,e){var s=t.commit;p.child(e.id+"/title").set(e.title),s("editTask",e)},loadItems:function(t){var e=this,s=t.commit,a=t.state;return d()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.loading=!0,n=[],t.next=4,p.once("value",function(t){t.forEach(function(t){var e={id:t.key,title:t.val().title,completed:t.val().completed,date:Date.now().toString()};n.unshift(e)})});case 4:s("setItems",n);case 5:case"end":return t.stop()}},t,e)}))()}}}),f=s("/ocq"),h=s("bOdI"),v=s.n(h),k=s("Dd8w"),g=s.n(k),_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"bounce"}},[t.showAdd?s("div",{key:"form"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"task-area",attrs:{placeholder:"Enter title for this card",name:"task"},domProps:{value:t.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask(e)},keydown:function(e){t.error=!1},input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),s("div",{staticClass:"task-control"},[s("button",{staticClass:"task-add",on:{click:t.addTask}},[t._v("Add Card")]),t._v(" "),s("button",{staticClass:"task-control task-change",on:{click:function(e){t.showAdd=!t.showAdd,t.error=!1}}},[t._v("\n        ×\n      ")])]),t._v(" "),t.error?s("p",{staticClass:"box error"},[t._v("Title can't be blank")]):t._e()]):s("div",{key:"openForm"},[s("button",{staticClass:"task-add",on:{click:function(e){t.showAdd=!t.showAdd}}},[t._v("Create Card")])])])},staticRenderFns:[]};var T=s("VU/8")({data:function(){return{title:"",showAdd:!0,error:!1}},methods:{addTask:function(){if(""==this.title)return this.error=!0,!1;var t={title:this.title};this.$emit("toFirstPage"),this.error=!1,this.title="",this.$store.dispatch("addTask",t)}}},_,!1,function(t){s("/lWy")},null,null).exports,C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoading?s("div",{staticClass:"lds-ellipsis"},[s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div")]):t._e(),t._v(" "),s("transition-group",{staticClass:"list-reset",attrs:{name:"list",tag:"ul"}},t._l(t.tasks,function(e){return s("li",{key:e.id,staticClass:"box",class:{done:e.completed},on:{dblclick:function(s){return t.completeTask({id:e.id,completed:e.completed})}}},[s("p",{staticClass:"task-description"},[t._v("\n        "+t._s(e.title)+"\n      ")]),t._v(" "),s("div",{staticClass:"dots htooltip"},[s("div",{staticClass:"htooltip-inner"},[s("button",{staticClass:"task-control",on:{click:function(s){return t.deleteTask(e.id)}}},[t._v("\n            ✖ Delete\n          ")]),t._v(" "),s("router-link",{staticClass:"task-control",attrs:{tag:"button",to:"/edit/"+e.id}},[s("a",{staticClass:"link"},[t._v("✎Edit")])])],1)])])}),0)],1)},staticRenderFns:[]};var b=s("VU/8")({computed:{tasks:function(){return this.$store.getters.currentTasks},isLoading:function(){return this.$store.getters.isLoading}},methods:{deleteTask:function(t){this.$store.dispatch("deleteTask",t),0==this.tasks.length&&this.$store.commit("setPage",this.$store.getters.currentPage-1)},completeTask:function(t){this.$store.dispatch("completeTask",t)}}},C,!1,function(t){s("Lp31")},null,null).exports,$={props:{"per-page":{type:Number,default:10},"total-items":{type:Number,required:!0},"current-page":{type:Number}},computed:{pages:function(){return Math.ceil(this.totalItems/this.perPage)}},methods:{pagechanged:function(t){this.$emit("pagechanged",t)}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"pagination list-reset"},t._l(t.pages,function(e){return s("li",{key:e,staticClass:"pagination-item"},[s("button",{staticClass:"pagination-button",class:{active:e==t.currentPage},on:{click:function(s){return t.pagechanged(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])])}),0)])},staticRenderFns:[]};var y={name:"App",beforeCreate:function(){(this.$store.getters.getTasks.length<10*this.$route.params.id&&1!=this.$route.params.id||!function(t){if(isNaN(t))return!1;var e=parseFloat(t);return(0|e)===e}(this.$route.params.id))&&this.$router.push({path:"/page/1"}),this.$store.commit("setPage",+this.$route.params.id)},created:function(){this.tasks=this.$store.dispatch("loadItems")},components:{Task:T,TasksList:b,Pagination:s("VU/8")($,P,!1,function(t){s("R7gV")},null,null).exports},methods:{onPageChange:function(t){this.$store.commit("setPage",t),this.$router.push({path:"/page/"+t})},toFirstPage:function(){this.$store.commit("setPage",1)},reverseTasks:function(){this.$store.commit("reverseTasks")}},computed:g()({},Object(l.b)(v()({countTasks:"countTasks",curentTasks:"curentTasks",currentPage:"currentPage"},"countTasks","countTasks")))};var x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"title"},[s("h1",{staticClass:"h1"},[t._v("Cards")]),t._v(" "),s("div",{staticClass:"dots htooltip"},[s("div",{staticClass:"htooltip-inner"},[s("button",{staticClass:"task-control",on:{click:t.reverseTasks}},[t._v("\n            Reverse Tasks\n          ")])])])]),t._v(" "),s("Task",{on:{toFirstPage:t.toFirstPage}}),t._v(" "),s("TasksList"),t._v(" "),s("Pagination",{attrs:{"total-items":t.countTasks,"current-page":t.currentPage},on:{pagechanged:t.onPageChange}})],1)])},staticRenderFns:[]};var w=s("VU/8")(y,x,!1,function(t){s("CAax")},null,null).exports,E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("h1",{staticClass:"h1"},[t._v("Edit Task")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"task-area",attrs:{placeholder:"Enter title for this card",name:"task"},domProps:{value:t.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editTask(e)},input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),s("div",{staticClass:"task-control"},[s("button",{staticClass:"task-add",on:{click:t.editTask}},[t._v("Edit Card")]),t._v(" "),s("button",{staticClass:"task-control task-change",on:{click:t.closeEdit}},[t._v("\n        ×\n      ")])]),t._v(" "),t.error?s("p",{staticClass:"box error"},[t._v("Title can't be blank")]):t._e()])])},staticRenderFns:[]};var A=s("VU/8")({data:function(){return{title:"",error:!1}},beforeMount:function(){this.title=this.$store.getters.getTask(this.$route.params.id).title},methods:{editTask:function(){if(""==this.title)return this.error=!0,!1;var t={id:this.$route.params.id,title:this.title};this.$store.dispatch("editTask",t),this.$router.push({path:"/page/1"})},closeEdit:function(){this.$router.push({path:"/page/1"})}}},E,!1,function(t){s("9+O6")},"data-v-36cee4c1",null).exports;a.a.use(f.a);var I=[{path:"*",redirect:{path:"/page/1"}},{path:"/page/:id",component:w},{path:"/edit/:id",component:A}],F=new f.a({routes:I,mode:"history"});new a.a({el:"#app",store:m,router:F,components:{App:i},template:"<App/>"})},R7gV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.250bbd1be6692da667d9.js.map